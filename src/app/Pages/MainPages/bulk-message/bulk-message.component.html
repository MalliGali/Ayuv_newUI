<div class="container">
  <div class="row">
    <div class="col">
      <div class="card mainContainer">
        <div class="card-body">
          <!-- <loading *ngIf="isLoading">{{ isLoading }}</loading> -->
          <!-- <h1 class="h2 textColor" style="margin-left: 5rem;"><i class="fas fa-envelope"
                            style="margin-right: 1rem;"></i>Batch Messaging</h1> -->
          <div class="row" style="margin-top: 1.8rem;">
            <div class="col text-center">
              <h2 class="textColor h3"><i class="fas fa-envelope-open-text"></i>&nbsp;&nbsp;&nbsp;&nbsp;Bulk Message
                Template</h2>
            </div>
          </div>
          <div class="row" style="margin-top: 1.5rem;">
            <div class="col text-center">
              <!-- <p class="textColor" style="font-size: medium;">Try out Ayuv's Batch Messaging
                                feature to send<br />Questionnaire to multiple patients at once.</p> -->
            </div>
          </div>
          <div class="row" style="margin-top: 1.9rem;height: 12rem;">
            <div class="col text-center">
              <div class="row" style="width: 100%;">
                <div class="col">
                  <div class="row">
                    <div class="col">
                      <input type="file" name="file" class="form-control" style="height: auto;" (change)="onMailAttach($event)" #fileUpload
                        accept=".csv" />
                      <!-- <button type="button" class="mt-1" (click)="uploadMail()"><i
                                                    class="fas fa-envelope"></i></button> -->
                    </div>
                  </div>
                  <!-- <div class="row" style="margin-top: .5rem;">
                                        <div class="col">
                                            <p class="textColor" style="font-size: medium;">Start a new batch message
                                                for COPD Questionnaire</p>
                                        </div>
                                    </div> -->
                  <div class="row" style="margin-top: 2rem;">
                    <div class="col">
                      <!-- <p class="textColor" style="font-size: medium;">{{file.name}}</p> -->
                    </div>
                  </div>
                </div>
                <div class="col-2"></div>
                <div class="col" *ngIf="template !== true">
                  <textarea name="" id="Messg" cols="80" rows="6" (ngModelChange)="onModelChange($event)"
                    (change)="getTextBoxValue($event)" class="form-control"
                    [attr.maxlength]="counter ? maxNumberOfCharacters : ''" [(ngModel)]="interaction.textValue"
                    placeholder="Please type your template here"></textarea>
                  <div class="text-end w-100">{{remainingCharLeft}} remaining character left</div>
                </div>
                <div class="col" *ngIf="template === true"></div>
              </div>

            </div>
          </div>
          <div class="row" style="margin-top: 3rem; margin-bottom: 3rem; height: 3rem;">
            <div class="col-2">
              <!-- <label for="">Category(optional)</label> -->
              <!-- <mat-slide-toggle style="margin-top: .5rem;" [(ngModel)]="template" color="primary" [checked]="isAwesome"
                (change)="toggleIsAwesome()">Template</mat-slide-toggle> -->
            </div>
            <div class="col" *ngIf="template === true">
              <!-- <label for="">Category(optional)</label> -->
              <select class="form-select w-100" aria-label="Default select example" (change)="selectedTemplate($event)">
                <option selected>Select Template</option>
                <option value="NEW_MESSAGE">Single Message Template</option>
                <option value="SCHEDULE_MSG">Schedule Message Template</option>
                <option value="INTERACTIVE_MSG">Interactive Message Template</option>
              </select>
            </div>
            <div class="col" *ngIf="selectedTemplateValue === true && template === true">
              <!-- <label for="">Category(optional)</label> -->
              <select class="form-select" aria-label="Default select example" (change)="selectedName($event)">
                <option selected>Select Template Name</option>
                <option value="{{item}}" *ngFor="let item of msgTemplate">{{item}}</option>
              </select>
            </div>
            <div class="col" *ngIf="template === false"></div>
            <div class="col" *ngIf="selectedTemplateValue === false"></div>
            <div class="col-1"></div>
            <div class="col text-end" *ngIf="!template">
              <button color="btn btn-primary" (click)="uploadMail()"
                [disabled]="!fileWithTextbox">Send</button>
            </div>
            <div class="col text-end" *ngIf="template">
              <button color="btn btn-primary" (click)="uploadMail()"
                [disabled]="!fileWithTemplate">Send</button>
            </div>
          </div>
          <div class="row" style="margin-top: 1rem;">
            <div class="col">
              <div class="row" style="margin-bottom: 1rem;">
                <div class="col text-left">
                  <h2 class="h3 textColor">Message Sent</h2>
                </div>
                <div class="col text-end">
                  <!-- <button type="button" class="btn btn-primary p-1" [disabled]="fileUploaded === true">Click here to refresh and see
                                        latest
                                        message status</button> -->
                </div>
              </div>
              <div class="row">
                <div class="col text-center">
                  <!-- <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Send time</th>
                                                <th>Sender</th>
                                                <th>Sent</th>
                                                <th>Delivered</th>
                                                <th>Failed</th>
                                                <th>File</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let item of bulkMessageResponse">
                                                <td scope="row">{{item.date}}</td>
                                                <td>{{item.senderName}}</td>
                                                <td>{{item.total}}</td>
                                                <td>{{item.success}}</td>
                                                <td>{{item.fail}}</td>
                                                <td>{{item.fileName}}</td>
                                                <td class="text-success">{{item.status}}</td>
                                            </tr>
                                        </tbody>
                                    </table> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>